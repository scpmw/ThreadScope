TODO ------------------------------------------------------------------------

Satnam:

Simon:
  - ThreadScope DEADLOCKs occasionally, more often with --debuug, why?
  - X Window System error sometimes?
  - opening a non-existent file failure
  - background of some widgets on Windows are white when they are grey in Linux
  - when nothing is loaded, show a message to that effect in the window
  - Make ^C work on Windows

- resizing the panes causes a grab lockup?
- jump to bookmark doesn't work in events window
- sort bookmark view by time?
- double-click a bookmark to jump to it?
- Delete key deletes bookmarks?
- hotkey to add a bookmark?

FIRST RELEASE ---------------------------------------------------------------

All of above

BUGS ------------------------------------------------------------------------

NOT QUITE DONE: - crash when zooming in too far (negative exponent)
- scrolling to the right, we get some over-rendering at the boundary
  causing a thick line
- scrolling when event labels are on chops off some labels
- rendering bug when scrolling: we need to clip to the rectangle being
  drawn, otherwise we overwrite other parts of the window when there
  are long bars being drawn, which makes some events disappear.
- scrolling to the right at the end of the trace leaves an extra blue
  line at the top.

IDEAS ------------------------------------------------------------------------

NAVIGATION
- click and drag the view
- shift-click and drag to zoom to a region
- draw the detailed view in the background
- bookmarks

  - add/remove
  - save
  - measure the time between two markers
- search for events in the event window

UI
- render averaged areas properly
- indicate when one thread wakes up another thread, or a thread is migrated
  - draw lines/arrows between the events?
- event list view
  - respond to page up / page down / arrows (FOCUS)
  - interact with bookmarks
- left pane for
  - bookmarks
  - list of traces
    - traces would be a tree-view, e.g.
      * HECs
        * 0
        * 1 etc.
      * Threads
        * 0
        * 1 etc.
      * RTS
        * live heap
      * ETW / Linux Performance counters
        * cache misses
        * stalls
        * etc.
     - clicking on a trace adds that trace to the view, clicking again
       removes it
     - some way to reorder the traces?
     - when rendering threads, we want some way to indicate the time
       between creation and death - colour grey?
- a better progress bar

OTHER
- catch exceptions in event handlers and emit a helpful error message of some
  kind.  tryEvent swallows exceptions, so it's not good enough.
- move the text entents stuff out of drawing ThreadRuns
- overlay ETW events
- integrate strace events in the event view on Linux
- colour threads differently
- thread names rather than numbers
- live heap graph
- summary analysis


DONE
  - tidy up menu option
  - overlaps should be gone now. fix ticks
  - key is messed up (we shouldn't be using fixed coordinates here, font
    sizes are variable)
  - when there are no events, we crash in last
  - fix event colours (key doesn't match)
  - fix the ticks: labels overlap sometimes
  - don't draw overlapping labels
  - spark conversion and spark pool size graphs
